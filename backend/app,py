from flask import Flask, request, jsonify
from flask_cors import CORS
from summarizer import summarize_chat

app = Flask(__name__)
CORS(app)  # Enable CORS for frontend communication

@app.route('/summarize', methods=['POST'])
def summarize():
    data = request.json
    chat_text = data.get("chat_text", "")

    if not chat_text:
        return jsonify({"error": "No chat text provided"}), 400

    summary = summarize_chat(chat_text)
    return jsonify({"summary": summary})

if __name__ == '__main__':
    app.run(debug=True)
